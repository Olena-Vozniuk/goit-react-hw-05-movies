"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[602],{854:function(t,e,n){var a=n(870),r=n(184);e.Z=function(){return(0,r.jsx)(a.g4,{height:"80",width:"80",radius:"9",color:"#000000",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})}},602:function(t,e,n){n.r(e),n.d(e,{default:function(){return w}});var a,r,c,i=n(433),o=n(439),u=n(791),s=n(87),h=n(554),l=n(689),f=n(168),d=n(444),p=d.ZP.ul(a||(a=(0,f.Z)(["\ndisplay: flex;\nflex-wrap: wrap;\ngap: 5px;\n"]))),v=d.ZP.li(r||(r=(0,f.Z)(["\nwidth: 100px;\n"]))),g=n(184),m=function(t){var e=t.movies,n=(0,l.TH)();return(0,g.jsx)(p,{children:e&&e.map((function(t){var e=t.title,a=t.id,r=t.release_date,c=t.poster_path;return(0,g.jsxs)(s.rU,{to:"/movies/".concat(a),state:{from:n},children:[(0,g.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(c),alt:"poster",width:100}),(0,g.jsxs)(v,{children:[e," (",r.slice(0,-6),")"]})]},a)}))})},Z=n(854),x=d.ZP.div(c||(c=(0,f.Z)(["\npadding: 16px;\n"]))),w=function(){var t,e=(0,u.useState)([]),n=(0,o.Z)(e,2),a=n[0],r=n[1],c=(0,u.useState)(""),l=(0,o.Z)(c,2),f=l[0],d=l[1],p=(0,u.useState)(!1),v=(0,o.Z)(p,2),w=v[0],y=v[1],k=(0,s.lr)(),j=(0,o.Z)(k,2),_=j[0],b=j[1],S=null!==(t=_.get("query"))&&void 0!==t?t:"";return(0,g.jsxs)(x,{children:[(0,g.jsx)("input",{type:"text",value:S,onChange:function(t){var e=""!==t.target.value?{query:t.target.value}:{};b(e)}}),(0,g.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),h.Z.fetchSearchMovies(S).then((function(t){0===t.length?d("We don't have any reviews for this movie"):r((function(e){return[].concat((0,i.Z)(e),(0,i.Z)(t))}))})).catch((function(t){d(t),y(!1)})).finally((function(){y(!1)})),d("")},children:"Search"}),(0,g.jsx)(m,{movies:a}),w&&(0,g.jsx)(Z.Z,{}),f&&(0,g.jsxs)("p",{children:[" ",f]})]})}},554:function(t,e,n){var a=n(243),r="https://api.themoviedb.org/3/",c="1633536a0456347d61753bdcd242ef29",i={fetchTrending:function(){return a.Z.get("".concat(r,"trending/movie/day?api_key=").concat(c)).then((function(t){return t.data.results}))},fetchSearchMovies:function(t){return a.Z.get("".concat(r,"search/movie?api_key=").concat(c,"&query=").concat(t,"&page=1")).then((function(t){return t.data.results}))},fetchMovieDetails:function(t){return a.Z.get("".concat(r,"movie/").concat(t,"?api_key=").concat(c)).then((function(t){return t.data}))},fetchMovieCredits:function(t){return a.Z.get("".concat(r,"movie/").concat(t,"/credits?api_key=").concat(c)).then((function(t){return t.data.cast}))},fetchMovieReviews:function(t){return a.Z.get("".concat(r,"movie/").concat(t,"/reviews?api_key=").concat(c)).then((function(t){return t.data.results}))}};e.Z=i}}]);
//# sourceMappingURL=602.3f12ac3b.chunk.js.map